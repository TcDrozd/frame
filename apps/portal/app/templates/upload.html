{% extends "base.html" %}
{% block content %}
<h1>Upload</h1>

<section class="card">
  <p class="hint">Uploads go directly to S3 using a pre-signed POST. After upload completes, the portal records metadata and (optionally) publishes a new manifest.</p>
  <input id="file" type="file" multiple accept="image/*" />
  <button id="uploadBtn">Upload selected</button>
  <pre id="log" class="pre"></pre>
</section>

<script>
  window.PORTAL_API = {
    presignUpload: "{{ request.url_for('presign_upload') }}",
    completeUpload: "{{ request.url_for('upload_complete') }}",
  };
</script>
<script src="{{ request.url_for('static', path='portal.js') }}"></script>
{% endblock %}
